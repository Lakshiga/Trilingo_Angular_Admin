<div class="multilingual-input space-y-4">

  <!-- Tabs -->
  <mat-tab-group 
    class="language-tabs border-b border-slate-200 dark:border-slate-700"
    (selectedTabChange)="onTabChange($event)">

    <mat-tab 
      *ngFor="let language of languages" 
      [label]="getLanguageLabel(language.code)"
      [disabled]="disabled">

      <div class="tab-content py-4">

        <!-- Label outside (NO floating) -->
        <label class="block mb-1 text-sm font-medium text-slate-700 dark:text-slate-300">
          {{ label }} ({{ language.nativeName }})
        </label>

        <mat-form-field appearance="outline" class="w-full">

          <input 
            matInput
            class="py-2 !text-base"
            [value]="getValue(language.code)"
            (input)="onInputChange($event, language.code)"
            [placeholder]="getPlaceholder(language.code)"
            [disabled]="disabled"
            [required]="required"
          />

          <!-- Right side check icon -->
          <mat-icon 
            matSuffix 
            *ngIf="getValue(language.code)" 
            class="text-green-600">
            check_circle
          </mat-icon>

        </mat-form-field>

      </div>
    </mat-tab>

  </mat-tab-group>

  <!-- Completion Indicator -->
  <div 
    class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-700/40 rounded-xl border border-slate-200 dark:border-slate-600"
    *ngIf="showCompletionIndicator">

    <div class="flex items-center gap-2">

      <span 
        *ngFor="let language of languages"
        class="w-3 h-3 rounded-full transition-all"
        [class.bg-green-500]="hasContent(language.code)"
        [class.bg-slate-300]="!hasContent(language.code)"
        [class.ring ring-blue-500]="currentLanguage === language.code"
        [matTooltip]="getLanguageLabel(language.code)">
      </span>

    </div>

    <span class="text-sm text-slate-600 dark:text-slate-300">
      {{ getCompletionText() }}
    </span>

  </div>

</div>
