<div class="activity-form-container">
  <!-- Multilingual Activity Title -->
  <div class="mb-3">
    <label class="block mb-1.5 text-sm font-semibold text-gray-700 dark:text-gray-300">
      Activity Title
    </label>
    <app-multilingual-input
      [value]="getTitleValue()"
      [placeholder]="getTitlePlaceholder()"
      [required]="true"
      (valueChange)="onTitleChange($event)">
    </app-multilingual-input>
  </div>
  <!-- Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-3 gap-y-2.5">
    <!-- Sequence Order -->
    <div class="mb-2">
      <label class="block mb-1.5 text-sm font-semibold text-gray-700 dark:text-gray-300">
        Sequence Order
      </label>
      <mat-form-field appearance="outline" class="w-full">
        <input 
          matInput
          type="number"
          placeholder="Enter sequence order"
          [(ngModel)]="activityData.sequenceOrder"
          (ngModelChange)="onDataChange()"
          class="!text-base"
          required>
      </mat-form-field>
    </div>
    <!-- Main Activity Category -->
    <div class="mb-2">
      <label class="block mb-1.5 text-sm font-semibold text-gray-700 dark:text-gray-300">
        Main Activity Category
      </label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select
          [(ngModel)]="activityData.mainActivityId"
          (selectionChange)="onMainActivityChange($event)"
          required>
          <mat-option *ngFor="let ma of mainActivities" [value]="ma.id">
            {{ ma.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <!-- Activity Type -->
    <div class="mb-2 md:col-span-2">
      <label class="block mb-1.5 text-sm font-semibold text-gray-700 dark:text-gray-300">
        Activity Type
      </label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select
          [(ngModel)]="activityData.activityTypeId"
          (selectionChange)="onActivityTypeChange($event)"
          [disabled]="hasExercises || !activityData.mainActivityId"
          required>
          <mat-option [value]="null">Select Activity Type</mat-option>
          <mat-option *ngFor="let at of activityTypes" [value]="at.activityTypeId">
            {{ at.activityName }}
          </mat-option>
        </mat-select>
        <mat-hint *ngIf="hasExercises">
          Activity type cannot be changed when exercises exist. Delete all exercises to change activity type.
        </mat-hint>
        <mat-hint *ngIf="!hasExercises && !activityData.mainActivityId">
          Please select a Main Activity first
        </mat-hint>
        <mat-hint *ngIf="!hasExercises && activityData.mainActivityId && (!activityTypes || activityTypes.length === 0)">
          Loading activity types...
        </mat-hint>
      </mat-form-field>
    </div>
  </div>
</div>
