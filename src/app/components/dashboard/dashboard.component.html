<div class="dashboard-container">

  <!-- Header -->
  <div class="dashboard-header">
    <div class="header-content">
      <div>
        <h1 class="dashboard-title"> Admin Dashboard </h1>
        <p class="welcome-message">Welcome back! Here's a real-time overview of your Trilingo learning platform.</p>
      </div>
    </div>
  </div>

  <!-- Loading/Error -->
  <div *ngIf="isLoading" class="status-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Loading dashboard...</p>
  </div>
  <div *ngIf="error && !isLoading" class="status-container error">
    <mat-icon>error_outline</mat-icon>
    <p>{{ error }}</p>
    <button mat-raised-button color="primary" (click)="refresh()">Retry</button>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid" *ngIf="!isLoading && !error">
    <mat-card class="stat-card">
      <div class="stat-icon blue">
        <mat-icon>layers</mat-icon>
      </div>
      <div class="stat-content">
        <p class="stat-label">Total Levels</p>
        <h2 class="stat-value">{{ stats.totalLevels }}</h2>
      </div>
    </mat-card>

    <mat-card class="stat-card">
      <div class="stat-icon green">
        <mat-icon>menu_book</mat-icon>
      </div>
      <div class="stat-content">
        <p class="stat-label">Total Lessons</p>
        <h2 class="stat-value">{{ stats.totalLessons }}</h2>
      </div>
    </mat-card>

    <mat-card class="stat-card">
      <div class="stat-icon purple">
        <mat-icon>assignment</mat-icon>
      </div>
      <div class="stat-content">
        <p class="stat-label">Total Activities</p>
        <h2 class="stat-value">{{ stats.totalActivities }}</h2>
      </div>
    </mat-card>

    <mat-card class="stat-card">
      <div class="stat-icon pink">
        <mat-icon>task</mat-icon>
      </div>
      <div class="stat-content">
        <p class="stat-label">Total Exercises</p>
        <h2 class="stat-value">{{ stats.totalExercises }}</h2>
      </div>
    </mat-card>
  </div>

  <!-- Charts Section -->
  <div class="charts-grid">
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>Lesson Completion</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-placeholder">Chart Placeholder</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>Activity Progress</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-placeholder">Chart Placeholder</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>Exercises Overview</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-placeholder">Chart Placeholder</div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Details Table / List -->
  <mat-card class="details-card">
    <mat-card-header>
      <mat-card-title>Recent Activities</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table class="details-table">
        <thead>
          <tr>
            <th>Activity Name</th>
            <th>Type</th>
            <th>Status</th>
            <th>Updated</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let activity of recentActivities">
            <td>{{ activity.name }}</td>
            <td>{{ activity.type }}</td>
            <td>
              <span class="status-badge" [ngClass]="activity.status.toLowerCase()">
                {{ activity.status }}
              </span>
            </td>
            <td>{{ activity.updated | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>

</div>
